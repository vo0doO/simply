/*!
 * simply v0.3.5
 * Copyright 2022 GodoFredo <hello@godofredo.ninja> (https://github.com/godofredoninja/simply)
 * Licensed under GPLv3
 */!function n(o,i,a){function l(t,e){if(!i[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(u)return u(t,!0);throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}r=i[t]={exports:{}},o[t][0].call(r.exports,function(e){return l(o[t][1][e]||e)},r,r.exports,n,o,i,a)}return i[t].exports}for(var u="function"==typeof require&&require,e=0;e<a.length;e++)l(a[e]);return l}({1:[function(e,t,r){t.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports},{}],2:[function(e,t,r){t.exports=function(e){if(Array.isArray(e))return e},t.exports.__esModule=!0,t.exports.default=t.exports},{}],3:[function(e,t,r){function u(e,t,r,n,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}t.exports=function(l){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=l.apply(e,a);function o(e){u(n,t,r,o,i,"next",e)}function i(e){u(n,t,r,o,i,"throw",e)}o(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],4:[function(e,t,r){t.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},{}],5:[function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},t.exports.__esModule=!0,t.exports.default=t.exports},{}],6:[function(e,t,r){t.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},t.exports.__esModule=!0,t.exports.default=t.exports},{}],7:[function(e,t,r){t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],8:[function(e,t,r){t.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return i}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],9:[function(e,t,r){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},{}],10:[function(e,t,r){var n=e("./arrayWithHoles.js"),o=e("./iterableToArrayLimit.js"),i=e("./unsupportedIterableToArray.js"),a=e("./nonIterableRest.js");t.exports=function(e,t){return n(e)||o(e,t)||i(e,t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},{"./arrayWithHoles.js":2,"./iterableToArrayLimit.js":8,"./nonIterableRest.js":9,"./unsupportedIterableToArray.js":12}],11:[function(e,t,r){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},{}],12:[function(e,t,r){var n=e("./arrayLikeToArray.js");t.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},{"./arrayLikeToArray.js":1}],13:[function(e,t,r){t.exports=e("regenerator-runtime")},{"regenerator-runtime":16}],14:[function(i,r,e){!function(M){!function(){var e,t;e=this,t=function(){var E=void 0!==i&&"undefined"==typeof window,r=new Map,n=new Map,C=[];C.total=0;var x=[],w=[];function t(){r.clear(),n.clear(),x=[],w=[]}function O(e){for(var t=-9007199254740991,r=e.length-1;0<=r;--r){var n=e[r];null!==n&&(t<(n=n.score)&&(t=n))}return-9007199254740991===t?null:t}function P(e,t){var r=e[t];if(void 0!==r)return r;for(var n=t,o=(n=!Array.isArray(t)?t.split("."):n).length,i=-1;e&&++i<o;)e=e[n[i]];return e}function q(e){return"object"==typeof e}function o(){var i=[],a=0,e={};function t(){for(var e=i[n=0],t=1;t<a;){var r=t+1,n=t;r<a&&i[r].score<i[t].score&&(n=r),i[n-1>>1]=i[n],t=1+(n<<1)}for(var o=n-1>>1;0<n&&e.score<i[o].score;o=(n=o)-1>>1)i[n]=i[o];i[n]=e}return e.add=function(e){var t=a;i[a++]=e;for(var r=t-1>>1;0<t&&e.score<i[r].score;r=(t=r)-1>>1)i[t]=i[r];i[t]=e},e.poll=function(){if(0!==a){var e=i[0];return i[0]=i[--a],t(),e}},e.peek=function(e){if(0!==a)return i[0]},e.replaceTop=function(e){i[0]=e,t()},e}var T=o();return function e(S){var I={single:function(e,t,r){return e?(q(e)||(e=I.getPreparedSearch(e)),t?(q(t)||(t=I.getPrepared(t)),((r&&void 0!==r.allowTypo?r.allowTypo:!S||void 0===S.allowTypo||S.allowTypo)?I.algorithm:I.algorithmNoTypo)(e,t,e[0])):null):null},go:function(e,t,r){if(!e)return C;var n=(e=I.prepareSearch(e))[0],o=r&&r.threshold||S&&S.threshold||-9007199254740991,i=r&&r.limit||S&&S.limit||9007199254740991,a=(r&&void 0!==r.allowTypo?r.allowTypo:!S||void 0===S.allowTypo||S.allowTypo)?I.algorithm:I.algorithmNoTypo,l=0,u=0,s=t.length;if(r&&r.keys)for(var c=r.scoreFn||O,f=r.keys,p=f.length,h=s-1;0<=h;--h){for(var d=t[h],y=new Array(p),v=p-1;0<=v;--v)(b=P(d,m=f[v]))?(q(b)||(b=I.getPrepared(b)),y[v]=a(e,b,n)):y[v]=null;y.obj=d;var g=c(y);null!==g&&(g<o||(y.score=g,l<i?(T.add(y),++l):(++u,g>T.peek().score&&T.replaceTop(y))))}else if(r&&r.key)for(var m=r.key,h=s-1;0<=h;--h)(b=P(d=t[h],m))&&null!==(x=a(e,b=q(b)?b:I.getPrepared(b),n))&&(x.score<o||(x={target:x.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:x.score,indexes:x.indexes,obj:d},l<i?(T.add(x),++l):(++u,x.score>T.peek().score&&T.replaceTop(x))));else for(var b,x,h=s-1;0<=h;--h)(b=t[h])&&null!==(x=a(e,b=q(b)?b:I.getPrepared(b),n))&&(x.score<o||(l<i?(T.add(x),++l):(++u,x.score>T.peek().score&&T.replaceTop(x))));if(0===l)return C;for(var w=new Array(l),h=l-1;0<=h;--h)w[h]=T.poll();return w.total=l+u,w},goAsync:function(k,L,A){var j=!1,e=new Promise(function(h,d){if(!k)return h(C);var y=(k=I.prepareSearch(k))[0],v=o(),g=L.length-1,m=A&&A.threshold||S&&S.threshold||-9007199254740991,b=A&&A.limit||S&&S.limit||9007199254740991,x=(A&&void 0!==A.allowTypo?A.allowTypo:!S||void 0===S.allowTypo||S.allowTypo)?I.algorithm:I.algorithmNoTypo,w=0,T=0;function _(){if(j)return d("canceled");var e=Date.now();if(A&&A.keys)for(var t=A.scoreFn||O,r=A.keys,n=r.length;0<=g;--g){for(var o=L[g],i=new Array(n),a=n-1;0<=a;--a)(u=P(o,s=r[a]))?(q(u)||(u=I.getPrepared(u)),i[a]=x(k,u,y)):i[a]=null;i.obj=o;var l=t(i);if(null!==l&&!(l<m)&&(i.score=l,w<b?(v.add(i),++w):(++T,l>v.peek().score&&v.replaceTop(i)),g%1e3==0&&10<=Date.now()-e))return void(E?M:setTimeout)(_)}else if(A&&A.key){for(var u,s=A.key;0<=g;--g)if(u=P(o=L[g],s)){q(u)||(u=I.getPrepared(u));var c=x(k,u,y);if(null!==c&&!(c.score<m)&&(c={target:c.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:c.score,indexes:c.indexes,obj:o},w<b?(v.add(c),++w):(++T,c.score>v.peek().score&&v.replaceTop(c)),g%1e3==0&&10<=Date.now()-e))return void(E?M:setTimeout)(_)}}else for(;0<=g;--g)if((u=L[g])&&(q(u)||(u=I.getPrepared(u)),null!==(c=x(k,u,y))&&!(c.score<m)&&(w<b?(v.add(c),++w):(++T,c.score>v.peek().score&&v.replaceTop(c)),g%1e3==0&&10<=Date.now()-e)))return void(E?M:setTimeout)(_);if(0===w)return h(C);for(var f=new Array(w),p=w-1;0<=p;--p)f[p]=v.poll();f.total=w+T,h(f)}E?M(_):_()});return e.cancel=function(){j=!0},e},highlight:function(e,t,r){if(null===e)return null;void 0===t&&(t="<b>"),void 0===r&&(r="</b>");for(var n="",o=0,i=!1,a=e.target,l=a.length,u=e.indexes,s=0;s<l;++s){var c=a[s];if(u[o]===s){if(i||(i=!0,n+=t),++o===u.length){n+=c+r+a.substr(s+1);break}}else i&&(i=!1,n+=r);n+=c}return n},prepare:function(e){if(e)return{target:e,_targetLowerCodes:I.prepareLowerCodes(e),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(e){if(e)return{target:e,_targetLowerCodes:I.prepareLowerCodes(e),_nextBeginningIndexes:I.prepareNextBeginningIndexes(e),score:null,indexes:null,obj:null}},prepareSearch:function(e){if(e)return I.prepareLowerCodes(e)},getPrepared:function(e){if(999<e.length)return I.prepare(e);var t=r.get(e);return void 0!==t||(t=I.prepare(e),r.set(e,t)),t},getPreparedSearch:function(e){if(999<e.length)return I.prepareSearch(e);var t=n.get(e);return void 0!==t||(t=I.prepareSearch(e),n.set(e,t)),t},algorithm:function(e,t,r){for(var n=t._targetLowerCodes,o=e.length,i=n.length,a=0,l=0,u=0,s=0;;){if(r===n[l]){if(x[s++]=l,++a===o)break;r=e[0===u?a:u===a?a+1:u===a-1?a-1:a]}if(i<=++l)for(;;){if(a<=1)return null;if(0===u){if(r===e[--a])continue;u=a}else{if(1===u)return null;if((r=e[1+(a=--u)])===e[a])continue}l=x[(s=a)-1]+1;break}}var a=0,c=0,f=!1,p=0,h=t._nextBeginningIndexes;null===h&&(h=t._nextBeginningIndexes=I.prepareNextBeginningIndexes(t.target));var d,y,v=l=0===x[0]?0:h[x[0]-1];if(l!==i)for(;;)if(i<=l)if(a<=0){if(o-2<++c)break;e[c]!==e[c+1]&&(l=v)}else--a,l=h[w[--p]];else if(e[0===c?a:c===a?a+1:c===a-1?a-1:a]===n[l]){if(w[p++]=l,++a===o){f=!0;break}++l}else l=h[l];y=f?(d=w,p):(d=x,s);for(var g=0,m=-1,b=0;b<o;++b)m!==(l=d[b])-1&&(g-=l),m=l;for(f?0!==c&&(g+=-20):(g*=1e3,0!==u&&(g+=-20)),t.score=g-=i-o,t.indexes=new Array(y),b=y-1;0<=b;--b)t.indexes[b]=d[b];return t},algorithmNoTypo:function(e,t,r){for(var n=t._targetLowerCodes,o=e.length,i=n.length,a=0,l=0,u=0;;){if(r===n[l]){if(x[u++]=l,++a===o)break;r=e[a]}if(i<=++l)return null}var s,c,a=0,f=!1,p=0,h=t._nextBeginningIndexes;if(null===h&&(h=t._nextBeginningIndexes=I.prepareNextBeginningIndexes(t.target)),(l=0===x[0]?0:h[x[0]-1])!==i)for(;;)if(i<=l){if(a<=0)break;--a,l=h[w[--p]]}else if(e[a]===n[l]){if(w[p++]=l,++a===o){f=!0;break}++l}else l=h[l];c=f?(s=w,p):(s=x,u);for(var d=0,y=-1,v=0;v<o;++v)y!==(l=s[v])-1&&(d-=l),y=l;for(f||(d*=1e3),t.score=d-=i-o,t.indexes=new Array(c),v=c-1;0<=v;--v)t.indexes[v]=s[v];return t},prepareLowerCodes:function(e){for(var t=e.length,r=[],n=e.toLowerCase(),o=0;o<t;++o)r[o]=n.charCodeAt(o);return r},prepareBeginningIndexes:function(e){for(var t=e.length,r=[],n=0,o=!1,i=!1,a=0;a<t;++a){var l=65<=(s=e.charCodeAt(a))&&s<=90,u=l||97<=s&&s<=122||48<=s&&s<=57,s=l&&!o||!i||!u,o=l,i=u;s&&(r[n++]=a)}return r},prepareNextBeginningIndexes:function(e){for(var t=e.length,r=I.prepareBeginningIndexes(e),n=[],o=r[0],i=0,a=0;a<t;++a)a<o?n[a]=o:(o=r[++i],n[a]=void 0===o?t:o);return n},cleanup:t,new:e};return I}()},"function"==typeof define&&define.amd?define([],t):"object"==typeof r&&r.exports?r.exports=t():e.fuzzysort=t()}.call(this)}.call(this,i("timers").setImmediate)},{timers:17}],15:[function(e,t,r){var n,o,t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var u,s=[],c=!1,f=-1;function p(){c&&u&&(c=!1,u.length?s=u.concat(s):f=-1,s.length&&h())}function h(){if(!c){var e=l(p);c=!0;for(var t=s.length;t;){for(u=s,s=[];++f<t;)u&&u[f].run();f=-1,t=s.length}u=null,c=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function y(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new d(e,t)),1!==s.length||c||l(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=y,t.addListener=y,t.once=y,t.off=y,t.removeListener=y,t.removeAllListeners=y,t.emit=y,t.prependListener=y,t.prependOnceListener=y,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],16:[function(e,t,r){t=function(a){"use strict";var u,e=Object.prototype,s=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o,i,a,l,t=t&&t.prototype instanceof v?t:v,t=Object.create(t.prototype),n=new L(n||[]);return t._invoke=(o=e,i=r,a=n,l=f,function(e,t){if(l===h)throw new Error("Generator is already running");if(l===d){if("throw"===e)throw t;return j()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){var n=function e(t,r){var n=t.iterator[r.method];if(n===u){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=u,e(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var n=c(n,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,y;n=n.arg;if(!n)return r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y;{if(!n.done)return n;r[t.resultName]=n.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=u)}r.delegate=null;return y}(r,a);if(n){if(n===y)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(l===f)throw l=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);l=h;n=c(o,i,a);if("normal"===n.type){if(l=a.done?d:p,n.arg!==y)return{value:n.arg,done:a.done}}else"throw"===n.type&&(l=d,a.method="throw",a.arg=n.arg)}}),t}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}a.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",y={};function v(){}function g(){}function m(){}var b={};i(b,n,function(){return this});t=Object.getPrototypeOf,t=t&&t(t(A([])));t&&t!==e&&s.call(t,n)&&(b=t);var x=m.prototype=v.prototype=Object.create(b);function w(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function T(a,l){var t;this._invoke=function(r,n){function e(){return new l(function(e,t){!function t(e,r,n,o){e=c(a[e],a,r);if("throw"!==e.type){var i=e.arg;return(r=i.value)&&"object"==typeof r&&s.call(r,"__await")?l.resolve(r.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):l.resolve(r).then(function(e){i.value=e,n(i)},function(e){return t("throw",e,n,o)})}o(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t){var e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,e=function e(){for(;++r<t.length;)if(s.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=u,e.done=!0,e};return e.next=e}}return{next:j}}function j(){return{value:u,done:!0}}return i(x,"constructor",g.prototype=m),i(m,"constructor",g),g.displayName=i(m,o,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,o,"GeneratorFunction")),e.prototype=Object.create(x),e},a.awrap=function(e){return{__await:e}},w(T.prototype),i(T.prototype,r,function(){return this}),a.AsyncIterator=T,a.async=function(e,t,r,n,o){void 0===o&&(o=Promise);var i=new T(l(e,t,r,n),o);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(r){var e,n=[];for(e in r)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=A,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),l=s.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n,o=r.completion;return"throw"===o.type&&(n=o.arg,k(r)),n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=u),y}},a}("object"==typeof t?t.exports:{});try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},{}],17:[function(u,e,s){!function(r,l){!function(){var n=u("process/browser.js").nextTick,e=Function.prototype.apply,o=Array.prototype.slice,i={},a=0;function t(e,t){this._id=e,this._clearFn=t}s.setTimeout=function(){return new t(e.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new t(e.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(e){e.close()},t.prototype.unref=t.prototype.ref=function(){},t.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},s.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},s._unrefActive=s.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},s.setImmediate="function"==typeof r?r:function(e){var t=a++,r=!(arguments.length<2)&&o.call(arguments,1);return i[t]=!0,n(function(){i[t]&&(r?e.apply(null,r):e.call(null),s.clearImmediate(t))}),t},s.clearImmediate="function"==typeof l?l:function(e){delete i[e]}}.call(this)}.call(this,u("timers").setImmediate,u("timers").clearImmediate)},{"process/browser.js":15,timers:17}],18:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/asyncToGenerator")),l=n(e("@babel/runtime/helpers/slicedToArray")),o=n(e("@babel/runtime/helpers/defineProperty")),u=n(e("@babel/runtime/helpers/typeof")),s=n(e("@babel/runtime/helpers/classCallCheck")),c=n(e("@babel/runtime/helpers/createClass")),f=n(e("fuzzysort")),e=function(){function r(e){(0,s.default)(this,r),this.check=!1;var t={url:window.location.origin,key:"",version:"v4",input:"#search-field",results:"#search-results",defaultValue:"",template:function(e){return'<a href="/'.concat(e.slug,'/" class="block py-2 pr-3 pl-10"><svg class="icon icon--search" style="margin-left:-28px"><use xlink:href="#icon-search"></use></svg> ').concat(e.title,"</a>")},options:{keys:["title"],limit:10,threshold:-3500,allowTypo:!1},api:{resource:"posts",parameters:{limit:"all",fields:["title","slug"],filter:"",include:"",order:"",formats:"",page:""}},on:{beforeDisplay:function(){},afterDisplay:function(e){},beforeFetch:function(){return document.body.classList.add("is-loading")},afterFetch:function(){return setTimeout(function(){document.body.classList.remove("is-loading")},4e3)}}},e=this.mergeDeep(t,e);Object.assign(this,e),this.init()}function e(){return t.apply(this,arguments)}var t;return(0,c.default)(r,[{key:"mergeDeep",value:function(t,r){var n=this;return t&&"object"===(0,u.default)(t)&&!Array.isArray(t)&&null!==t&&r&&"object"===(0,u.default)(r)&&!Array.isArray(r)&&null!==r&&Object.keys(r).forEach(function(e){r[e]&&"object"===(0,u.default)(r[e])&&!Array.isArray(r[e])&&null!==r[e]?(t[e]||Object.assign(t,(0,o.default)({},e,{})),n.mergeDeep(t[e],r[e])):Object.assign(t,(0,o.default)({},e,r[e]))}),t}},{key:"fetch",value:(t=function(){var t=this;this.on.beforeFetch();var e,r={},n=this.api.parameters;for(e in n)""!==n[e]&&(r[e]=n[e]);var o=Object.entries(r).map(function(e){var t=(0,l.default)(e,2),e=t[0],t=t[1];return"".concat(e,"=").concat(encodeURIComponent(t))}).join("&"),o="".concat(this.url,"/ghost/api/").concat(this.version,"/content/").concat(this.api.resource,"/?key=").concat(this.key,"&").concat(o);(function(){var t=(0,a.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return r=e.sent,e.next=5,r.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}})()(o).then(function(e){return t.search(e[t.api.resource])}).catch(function(e){return console.error(e)})},e.toString=function(){return t.toString()},e)},{key:"createElementFromHTML",value:function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}},{key:"displayResults",value:function(e){if(null!==document.querySelectorAll(this.results)[0].firstChild&&""!==document.querySelectorAll(this.results)[0].firstChild)for(;document.querySelectorAll(this.results)[0].firstChild;)document.querySelectorAll(this.results)[0].removeChild(document.querySelectorAll(this.results)[0].firstChild);var t=document.querySelectorAll(this.input)[0].value;""!==this.defaultValue&&(t=this.defaultValue);var r,n=f.default.go(t,e,{keys:this.options.keys,limit:this.options.limit,allowTypo:this.options.allowTypo,threshold:this.options.threshold});for(r in n)r<n.length&&document.querySelectorAll(this.results)[0].appendChild(this.createElementFromHTML(this.template(n[r].obj)));this.on.afterDisplay(n),this.defaultValue=""}},{key:"search",value:function(e){var t=this;this.on.afterFetch(e),this.check=!0,""!==this.defaultValue&&(this.on.beforeDisplay(),this.displayResults(e)),document.querySelectorAll(this.input)[0].addEventListener("keyup",function(){t.on.beforeDisplay(),t.displayResults(e)})}},{key:"checkArgs",value:function(){return document.querySelectorAll(this.input).length?document.querySelectorAll(this.results).length?""===this.url?(console.log("Content API Client Library host missing. Please set the host. Must not end in a trailing slash."),!1):""!==this.key||(console.log('Content API Client Library key missing. Please set the key. Hex string copied from the "Integrations" screen in Ghost Admin.'),!1):(console.log("Results not found."),!1):(console.log("Input not found."),!1)}},{key:"validate",value:function(){return!!this.checkArgs()}},{key:"init",value:function(){var e=this;this.validate()&&(""!==this.defaultValue&&(document.querySelectorAll(this.input)[0].value=this.defaultValue,window.onload=function(){e.check||e.fetch()}),document.querySelectorAll(this.input)[0].addEventListener("focus",function(){e.check||e.fetch()}))}}]),r}();t.exports=e},{"@babel/runtime/helpers/asyncToGenerator":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":5,"@babel/runtime/helpers/defineProperty":6,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/slicedToArray":10,"@babel/runtime/helpers/typeof":11,"@babel/runtime/regenerator":13,fuzzysort:14}],19:[function(e,t,r){"use strict";var c=e("@babel/runtime/helpers/interopRequireDefault")(e("./lib/ghost-search"));!function(e){var t=e.body,i=e.querySelector("#search-field"),a=e.querySelector("#search-results"),r=e.querySelector(".js-search-message"),l="is-active",u=0,n={outer:0,scroll:0};e.querySelector("a[data-target=modal-search]").classList.remove("hidden");e={on:{afterDisplay:function(e){return e=e,s(),u=e.length,n={outer:a.offsetHeight,scroll:a.scrollHeight},void(0===e.total&&""!==i.value?(r.classList.remove("hidden"),t.removeEventListener("keydown",o)):(r.classList.add("hidden"),t.addEventListener("keydown",o)))}}};function s(e,t){e=e||0,t=t||"up";var r=a.querySelectorAll("a");r.length&&(r.forEach(function(e){return e.classList.remove(l)}),r[e].classList.add(l),r=r[e].offsetTop,e=0,"down"===t&&r>n.outer/2?e=r-n.outer/2:"up"===t&&(e=r<n.scroll-n.outer/2?r-n.outer/2:n.scroll),a.scrollTo(0,e))}function o(e){var t,r,n,o=e.keyCode;13===o?(i.blur(),(n=a.querySelector("a.".concat(l)))&&n.click()):38!==o&&40!==o||(t=o,n=0,(o=a.querySelector(".is-active"))&&(n=[].slice.call(o.parentNode.children).indexOf(o)),i.blur(),38===t?(r="up",n<=0?(i.focus(),n=0):--n):(r="down",u-1<=n?n=0:n+=1),s(n,r),e.preventDefault())}Object.assign(e,searchSettings),new c.default(e)}(document)},{"./lib/ghost-search":18,"@babel/runtime/helpers/interopRequireDefault":7}]},{},[19]);